/* Formatted on 9/17/2024 4:25:51 PM (QP5 v5.313) */
DECLARE
    TYPE ac_array IS TABLE OF VARCHAR2 (15);

    vExistCount   NUMBER;
    old_ac        ac_array
                      := ac_array ('3163934681002',
                                   '2423912906002',
                                   '2203933664002',
                                   '2203932905002',
                                   '2203930365002',
                                   '2203930281002',
                                   '2203867623002',
                                   '2203854207002',
                                   '2203852669002',
                                   '2203851424002',
                                   '2203850997002',
                                   '2203850925002',
                                   '2203850861002',
                                   '2203850686002',
                                   '2203850679002',
                                   '2203850673002',
                                   '2203850446002',
                                   '2203850393002',
                                   '2203850004002',
                                   '2203849703002',
                                   '2203849673002',
                                   '2203849156002',
                                   '2203849093002',
                                   '2203849063002',
                                   '2203848945002',
                                   '2203848922002',
                                   '2203848841002',
                                   '2203848822002',
                                   '2203848688002',
                                   '2203848492002',
                                   '2203848379002',
                                   '2203848342002',
                                   '2203848324002',
                                   '2203848320002',
                                   '2203848253002',
                                   '2203848176002',
                                   '2203847271002',
                                   '2203847242002',
                                   '1143925048002');

    new_ac        ac_array
                      := ac_array ('3163934681001',
                                   '2423912906001',
                                   '2203933664001',
                                   '2203932905001',
                                   '2203930365001',
                                   '2203930281001',
                                   '2203867623001',
                                   '2203854207001',
                                   '2203852669001',
                                   '2203851424001',
                                   '2203850997001',
                                   '2203850925001',
                                   '2203850861001',
                                   '2203850686001',
                                   '2203850679001',
                                   '2203850673001',
                                   '2203850446001',
                                   '2203850393001',
                                   '2203850004001',
                                   '2203849703001',
                                   '2203849673001',
                                   '2203849156001',
                                   '2203849093001',
                                   '2203849063001',
                                   '2203848945001',
                                   '2203848922001',
                                   '2203848841001',
                                   '2203848822001',
                                   '2203848688001',
                                   '2203848492001',
                                   '2203848379001',
                                   '2203848342001',
                                   '2203848324001',
                                   '2203848320001',
                                   '2203848253001',
                                   '2203848176001',
                                   '2203847271001',
                                   '2203847242001',
                                   '1143925048001');
BEGIN
    FOR i IN 1 .. old_ac.COUNT
    LOOP
        SELECT COUNT (*)
          INTO vExistCount
          FROM EMOB.MB_ACCOUNT_MST
         WHERE AC_NO = new_ac (i);

        IF vExistCount = 0
        THEN
dbms_output.put_line(new_ac (i));
            UPDATE EMOB.MB_ACCOUNT_MST
               SET AC_NO = new_ac (i)
             WHERE AC_NO = old_ac (i);
        END IF;
    END LOOP;
-- Commit the changes
COMMIT;
END;
/